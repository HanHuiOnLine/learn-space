<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>双向链表</title>
</head>
<body>

</body>
<script type="text/javascript">
	/*
	双向链表和普通链表的区别在于,链接是双向的,一个链向下一个元素, 一个链向上一个元素
	*/
	function DoublyLindedList () {
		var Node = function (element) {
			this.element = element;
			this.next = null;
			this.prev = null;//新增
		};
		var length = 0,
		    head = null,
		    tail = null;//新增
		this.insert = function (position, element) {
			//检查越界值
			if (position >= 0 && position <= length) {
				var node = new Node(element),
				    current = head,
				    previous,
				    index = 0;
				if (position === 0) {//在第一个位置添加
					if (!head) {
						head = node;
						tail = node;
					} else {
						node.next = current;
						current.prev = node;
						head = node;
					}
				} else if (position === length) {//最后一项
					current = tail;
					current.next = node;
					node.prev = current;
					tail = node;
				} else {
					while (index++ < position) {
						previous = current;
						current = current.next;
					}
					node.next = current;
					previous.next = node;
					current.prev = node;
					node.prev = previous;
				}
				length++;
				return true;    
			} else {
				return false;
			}
		}    
	}
</script>
</html>